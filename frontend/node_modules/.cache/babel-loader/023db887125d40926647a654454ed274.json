{"ast":null,"code":"var _jsxFileName = \"/Users/omeryildiz/Projects/Friendsbook with Express and MongoDB/frontend/src/components/FriendsGrid.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport { deleteFriend } from '../actions/DeleteFriendAction';\nimport { sortFriends } from '../actions/SortFriendsAction';\nimport Friend from './Friend';\nimport axios from 'axios';\n\nclass FriendsGrid extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      friendList: []\n    };\n\n    this.removeFriendFromDB = id => {\n      axios.delete(`http://localhost:5000/friends/${id}`).then(res => console.log(res.data));\n      this.setState({\n        friendList: this.state.friendList.filter(el => el._id !== id)\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/friends/').then(res => {\n      if (res.data.length > 0) {\n        this.setState({\n          friendList: res.data\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      deleteFriend,\n      sortFriends\n    } = this.props;\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, this.state.friendList.map(el => React.createElement(Friend, {\n      id: el._id,\n      key: el._id,\n      name: el.firstname,\n      lastName: el.lastname,\n      age: el.age,\n      deleteFriend: (deleteFriend, this.removeFriendFromDB(el._id)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"sort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: sortFriends,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Sort\")));\n  }\n\n}\n\nconst mapStateToProps = ({\n  friendList\n}) => ({\n  friendList\n});\n\nconst mapDispatchToProps = dispatch => ({\n  deleteFriend: e => {\n    e.persist();\n    e.preventDefault();\n    dispatch(deleteFriend(e.target.id));\n  },\n  sortFriends: e => {\n    e.preventDefault();\n    dispatch(sortFriends());\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FriendsGrid);","map":{"version":3,"sources":["/Users/omeryildiz/Projects/Friendsbook with Express and MongoDB/frontend/src/components/FriendsGrid.js"],"names":["React","connect","Button","deleteFriend","sortFriends","Friend","axios","FriendsGrid","Component","state","friendList","removeFriendFromDB","id","delete","then","res","console","log","data","setState","filter","el","_id","componentDidMount","get","length","render","props","map","firstname","lastname","age","mapStateToProps","mapDispatchToProps","dispatch","e","persist","preventDefault","target"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,YAAT,QAA6B,+BAA7B;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAN,SAA0BP,KAAK,CAACQ,SAAhC,CAA0C;AAAA;AAAA;AAAA,SAExCC,KAFwC,GAEhC;AACNC,MAAAA,UAAU,EAAE;AADN,KAFgC;;AAAA,SAgBxCC,kBAhBwC,GAgBlBC,EAAD,IAAQ;AAC3BN,MAAAA,KAAK,CAACO,MAAN,CAAc,iCAAgCD,EAAG,EAAjD,EAAoDE,IAApD,CAAyDC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAAhE;AACA,WAAKC,QAAL,CAAc;AAAET,QAAAA,UAAU,EAAE,KAAKD,KAAL,CAAWC,UAAX,CAAsBU,MAAtB,CAA6BC,EAAE,IAAIA,EAAE,CAACC,GAAH,KAAWV,EAA9C;AAAd,OAAd;AACD,KAnBuC;AAAA;;AAMxCW,EAAAA,iBAAiB,GAAG;AAClBjB,IAAAA,KAAK,CAACkB,GAAN,CAAU,gCAAV,EAA4CV,IAA5C,CAAiDC,GAAG,IAAI;AACtD,UAAIA,GAAG,CAACG,IAAJ,CAASO,MAAT,GAAkB,CAAtB,EAAyB;AACvB,aAAKN,QAAL,CAAc;AACZT,UAAAA,UAAU,EAAEK,GAAG,CAACG;AADJ,SAAd;AAGD;AACF,KAND;AAOD;;AAODQ,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEvB,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAgC,KAAKuB,KAA3C;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKlB,KAAL,CAAWC,UAAX,CAAsBkB,GAAtB,CAA0BP,EAAE,IAC3B,oBAAC,MAAD;AACE,MAAA,EAAE,EAAEA,EAAE,CAACC,GADT;AAEE,MAAA,GAAG,EAAED,EAAE,CAACC,GAFV;AAGE,MAAA,IAAI,EAAED,EAAE,CAACQ,SAHX;AAIE,MAAA,QAAQ,EAAER,EAAE,CAACS,QAJf;AAKE,MAAA,GAAG,EAAET,EAAE,CAACU,GALV;AAME,MAAA,YAAY,GAAE5B,YAAY,EAAE,KAAKQ,kBAAL,CAAwBU,EAAE,CAACC,GAA3B,CAAhB,CANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADH,EAWE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,OAAO,EAAElB,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAXF,CADF;AAmBD;;AA3CuC;;AA8C1C,MAAM4B,eAAe,GAAG,CAAC;AAAEtB,EAAAA;AAAF,CAAD,MAAqB;AAC3CA,EAAAA;AAD2C,CAArB,CAAxB;;AAIA,MAAMuB,kBAAkB,GAAIC,QAAD,KAAe;AACxC/B,EAAAA,YAAY,EAAEgC,CAAC,IAAI;AACjBA,IAAAA,CAAC,CAACC,OAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACAH,IAAAA,QAAQ,CAAC/B,YAAY,CAACgC,CAAC,CAACG,MAAF,CAAS1B,EAAV,CAAb,CAAR;AACD,GALuC;AAMxCR,EAAAA,WAAW,EAAE+B,CAAC,IAAI;AAChBA,IAAAA,CAAC,CAACE,cAAF;AACAH,IAAAA,QAAQ,CAAC9B,WAAW,EAAZ,CAAR;AACD;AATuC,CAAf,CAA3B;;AAYA,eAAeH,OAAO,CACpB+B,eADoB,EAEpBC,kBAFoB,CAAP,CAGb1B,WAHa,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'react-bootstrap';\r\nimport { deleteFriend } from '../actions/DeleteFriendAction';\r\nimport { sortFriends } from '../actions/SortFriendsAction';\r\nimport Friend from './Friend';\r\nimport axios from 'axios';\r\n\r\nclass FriendsGrid extends React.Component {\r\n\r\n  state = {\r\n    friendList: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get('http://localhost:5000/friends/').then(res => {\r\n      if (res.data.length > 0) {\r\n        this.setState({\r\n          friendList: res.data\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  removeFriendFromDB = (id) => {\r\n    axios.delete(`http://localhost:5000/friends/${id}`).then(res => console.log(res.data));\r\n    this.setState({ friendList: this.state.friendList.filter(el => el._id !== id) })\r\n  }\r\n\r\n  render() {\r\n    const { deleteFriend, sortFriends } = this.props\r\n\r\n    return (\r\n      <ul>\r\n        {this.state.friendList.map(el => (\r\n          <Friend\r\n            id={el._id}\r\n            key={el._id}\r\n            name={el.firstname}\r\n            lastName={el.lastname}\r\n            age={el.age}\r\n            deleteFriend={deleteFriend, this.removeFriendFromDB(el._id)}\r\n          />\r\n        ))}\r\n        <div className=\"sort\">\r\n          <Button variant=\"secondary\" onClick={sortFriends}>\r\n            Sort\r\n          </Button>\r\n        </div>\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ friendList }) => ({\r\n  friendList,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  deleteFriend: e => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    dispatch(deleteFriend(e.target.id));\r\n  },\r\n  sortFriends: e => {\r\n    e.preventDefault();\r\n    dispatch(sortFriends());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(FriendsGrid);\r\n\r\n"]},"metadata":{},"sourceType":"module"}